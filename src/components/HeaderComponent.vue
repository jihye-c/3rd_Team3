<script setup lang="ts">
  import {RouterLink} from 'vue-router';
  import {Motion, useScroll, useTransform} from 'motion-v';
  import AddressSelectBar from './Home/common/AddressSelectBar.vue';

  const {scrollY} = useScroll();
  const background = useTransform(scrollY, [0, 100], ['rgba(0,0,0,0.0)', 'rgba(255,255,255,1)']);
  const height = useTransform(scrollY, [0, 100], [0, '100%']);
  const border = useTransform(scrollY, [0, 100], ['none', '1px solid #eee']);
  const color = useTransform(scrollY, [0, 100], ['#fff', '#000']);
  const props = defineProps({
    backgroundOpacity: {
      type: Boolean,
      default: false,
    },
  });
</script>

<template>
  <Motion
    as="div"
    class="w-full fixed z-20"
    :style="{
      background: props.backgroundOpacity ? background : '#fff',
      height,
      border,
      color: props.backgroundOpacity ? color : 'var(--color-mono-900)',
    }"
  >
    <header class="w-full !p-5">
      <div ref="headerStyle" class="container">
        <nav class="flex items-center justify-between gap-7">
          <div class="flex gap-16">
            <h1 class="flex items-center flex-col justify-center">
              <RouterLink to="/" :style="{color}" class="ft-point pb-2 text-2xl box-border"
                >자수성가</RouterLink
              >
            </h1>
            <div class="text-xl font-semibold bg flex items-center">
              <RouterLink class="px-4" to="/subscription">청약</RouterLink>
              <RouterLink class="px-4" to="/recipe">자취 레시피</RouterLink>
              <RouterLink class="px-4" to="/hospital">인근 병원</RouterLink>
              <RouterLink class="px-4" to="/culture">문화 생활</RouterLink>
              <RouterLink class="group/item relative px-6" to="/community"
                >커뮤니티
                <div class="absolute w-full pt-6 left-0 top-7">
                  <ul
                    class="group/edit hidden bg-[#fff] text-mono-700 w-full group-hover/item:flex flex-col items-center justify-center gap-3 text-sm bg-white shadow-sm hover:flex"
                  >
                    <li
                      class="w-full px-3 py-3 text-center hover:bg-main-400 transition-all duration-300 hover:text-main-50"
                    >
                      질문 게시판
                    </li>
                    <li
                      class="w-full px-3 py-3 text-center hover:bg-main-400 transition-all duration-300 hover:text-main-50"
                    >
                      동네리뷰
                    </li>
                    <li
                      class="w-full px-3 py-3 text-center hover:bg-main-400 transition-all duration-300 hover:text-main-50"
                    >
                      중고거래
                    </li>
                    <li
                      class="w-full px-3 py-3 text-center hover:bg-main-400 transition-all duration-300 hover:text-main-50"
                    >
                      나만의 레시피
                    </li>
                  </ul>
                </div>
              </RouterLink>
            </div>
          </div>
            <div class="flex items-center">
              <AddressSelectBar />

            <!-- <RouterLink class="tw:flex tw:items-center" to="/mypage"> </RouterLink> -->
            <v-badge content="5" color="var(--color-main-400)">
              <v-speed-dial scrim="true" location="bottom center" transition="fade-transition">
                <template v-slot:activator="{props: activatorProps}">
                  <v-avatar
                    v-bind="activatorProps"
                    image="https://pds.joongang.co.kr/news/component/htmlphoto_mmdata/201608/04/htm_2016080484837486184.jpg"
                  ></v-avatar>
                </template>

                <v-btn key="1" class="!shadow-none" icon="$success"></v-btn>
                <v-btn key="2" class="!shadow-none" icon="$info"></v-btn>
                <v-btn key="3" class="!shadow-none" icon="$warning"></v-btn>
                <v-btn key="4" class="!shadow-none" icon="$error"></v-btn>
              </v-speed-dial>
            </v-badge>
          </div>
        </nav>
      </div>
    </header>
  </Motion>
</template>

<style scoped>
</style>
